# ğŸš€ Series Há»c Node.js Tá»« A Ä‘áº¿n Z

- <b>Author: `@Vinhdev04`</b>
  <br>
  ![Node.js Banner](https://nodejs.org/static/images/logo.svg)
  <br><br>
  > Há»c Node.js bÃ i báº£n, dá»… hiá»ƒu vÃ  thá»±c chiáº¿n ğŸš€ â€“ dÃ nh cho ngÆ°á»i má»›i báº¯t Ä‘áº§u Ä‘áº¿n khi lÃ m Ä‘Æ°á»£c dá»± Ã¡n tháº­t!
  > <br> <br>![Node Server](./Docs/Images/ezgif-3-91584f5b82b9.gif)

---

## ğŸ“š Giá»›i thiá»‡u Series

![Node Server](./Docs/Images/Nodejs-Architecture-1200x675.png)
ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i **series há»c Node.js**! ÄÃ¢y lÃ  chuá»—i bÃ i há»c Ä‘Æ°á»£c xÃ¢y dá»±ng nháº±m giÃºp báº¡n:

- Hiá»ƒu rÃµ vá» **Node.js lÃ  gÃ¬**, vÃ¬ sao nÃªn há»c nÃ³
- LÃ m quen vá»›i cÃ¡c khÃ¡i niá»‡m **core modules**: `http`, `fs`, `path`, `events`, ...
- XÃ¢y dá»±ng **RESTful API** vá»›i `Express.js`
- Káº¿t ná»‘i vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u nhÆ° **MongoDB**, **MySQL**
- Deploy project thá»±c táº¿

> ğŸ‘¨â€ğŸ’» KhÃ´ng chá»‰ lÃ½ thuyáº¿t, báº¡n sáº½ Ä‘Æ°á»£c **code thá»±c táº¿** vÃ  lÃ m **dá»± Ã¡n nhá»** Ä‘á»ƒ Ã´n láº¡i kiáº¿n thá»©c.

---

## ğŸ§± Cáº¥u trÃºc ná»™i dung

| STT | Chá»§ Ä‘á»             | Ná»™i dung chÃ­nh                             |
| --- | ------------------ | ------------------------------------------ |
| 1ï¸âƒ£  | Giá»›i thiá»‡u Node.js | CÃ i Ä‘áº·t, Hello World, mÃ´ hÃ¬nh event-driven |
| 2ï¸âƒ£  | Modules & Packages | Exports, Imports, npm, táº¡o module riÃªng    |
| 3ï¸âƒ£  | File System        | Äá»c/ghi file, Ä‘á»“ng bá»™ & báº¥t Ä‘á»“ng bá»™        |
| 4ï¸âƒ£  | HTTP Module        | Táº¡o web server, xá»­ lÃ½ request/response     |
| 5ï¸âƒ£  | Express.js         | Middleware, routes, controller             |
| 6ï¸âƒ£  | MongoDB            | Káº¿t ná»‘i database, CRUD cÆ¡ báº£n              |
| 7ï¸âƒ£  | Dá»± Ã¡n mini         | API quáº£n lÃ½ user hoáº·c blog Ä‘Æ¡n giáº£n        |
| 8ï¸âƒ£  | Deploy             | ÄÆ°a code lÃªn hosting/VPS                   |

---

## ğŸ¯ Má»¥c tiÃªu sau series nÃ y

- âœ… Hiá»ƒu rÃµ cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a Node.js
- âœ… Tá»± tin xÃ¢y dá»±ng API vá»›i Express
- âœ… Biáº¿t deploy project cÆ¡ báº£n
- âœ… LÃ  ná»n táº£ng vá»¯ng cháº¯c Ä‘á»ƒ há»c thÃªm: `NestJS`, `GraphQL`, `WebSocket`, v.v.

---

### Minh há»a hoáº¡t Ä‘á»™ng server Ä‘Æ¡n giáº£n

![Node Server](./Docs/Images/R.gif)

---

---

## ğŸ“Œ YÃªu cáº§u kiáº¿n thá»©c ná»n

TrÆ°á»›c khi há»c series, báº¡n nÃªn cÃ³ kiáº¿n thá»©c cÆ¡ báº£n vá»:

- HTML / CSS / JavaScript (ES6+)
- LÃ m viá»‡c vá»›i Terminal / Command Line
- Biáº¿t dÃ¹ng Git vÃ  VSCode lÃ  má»™t lá»£i tháº¿

---

## ğŸ’¡ Máº¹o há»c hiá»‡u quáº£

- ğŸ““ Ghi chÃº láº¡i nhá»¯ng gÃ¬ báº¡n hiá»ƒu, Ä‘á»«ng chá»‰ copy code
- â“ Äáº·t cÃ¢u há»i náº¿u chÆ°a hiá»ƒu
- ğŸ” Xem láº¡i cÃ¡c bÃ i cÅ© sau 2â€“3 ngÃ y
- ğŸ§ª Thá»­ nghiá»‡m thÃªm vá»›i cÃ¡c vÃ­ dá»¥ ngoÃ i bÃ i giáº£ng

---

## ğŸ›  CÃ´ng cá»¥ há»— trá»£

- Node.js v18+
- Postman / Thunder Client
- MongoDB Atlas (hoáº·c Mongo Compass)
- VSCode + tiá»‡n Ã­ch ESLint, Prettier

---

## ğŸ§ª Dá»± Ã¡n cuá»‘i khÃ³a - Node.js

### ğŸ“Œ TÃªn dá»± Ã¡n: `<!-- Ä‘iá»n tÃªn dá»± Ã¡n á»Ÿ Ä‘Ã¢y -->`

### ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c gá»£i Ã½

### âš™ï¸ Chá»©c nÄƒng chÃ­nh

## â¤ï¸ Cáº£m Æ¡n báº¡n Ä‘Ã£ theo dÃµi!

> Náº¿u tháº¥y series há»¯u Ã­ch, hÃ£y â­ repo nÃ y vÃ  chia sáº» cho báº¡n bÃ¨ nhÃ©!

<br>

### ExpressJS

- <i>`ExpressJS` lÃ  má»™t framework Ä‘Ãª xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng website trong `NodeJS`</i>
- <i>`ExpressJS` giÃºp quÃ¡ trÃ¬nh xÃ¢y dá»±ng `Server` Ä‘Æ¡n `giáº£n hÆ¡n` vá»›i `nhiá»u tÃ­nh nÄƒng Ä‘uá»£c xÃ¢y dá»±ng sáºµn`</i>
- Install: `npm i express`

---

### CÃ¡ch cháº¡y dá»± Ã¡n:

- B1: Táº¡o folder `HelloWorld` vÃ  cháº¡y `npm init`
- B2: CÃ i ExpressJS `npm i express`
- B3: Táº¡o file `file_name.js` vÃ  code
- B4: Run terminal `node file_name.js`
- <b>LÆ°u Ã½: `NodeJS chá»‰ cháº¡y 1 láº§n vÃ  ko tá»± Ä‘á»™ng reload láº¡i trang`</b>

---

### CÃ i Nodemon

- <i>GiÃºp tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng láº¡i á»©ng dá»¥ng khi cÃ³ sá»± thay Ä‘á»•i cá»§a file </i>
- B1: Cháº¡y cÃ¢u lá»‡nh: `npm install -g nodemon `
- B2: ThÃªm dÃ²ng `"start": "nodemon --inspec file_name.js` vÃ o `script` trong `package.json`, `--inspec giÃºp táº¡o ra tab console nodeJS á»Ÿ phÃ­a Server `
- B3: Run `npm start`

---

### Sá»­ dá»¥ng Routing cÆ¡ báº£n

- <b>Exam: Táº¡o routing `products` </b>:
  `app.get("/products", (req, res) => {
    res.send("Products"); // pháº£n há»“i
});`

---

### SPA vÃ  MPA

- <b>`Multiple Page Application` lÃ  gÃ¬?</b>
- <i>`MPA` lÃ  khi ngÆ°á»i dÃ¹ng truy cáº­p cÃ¡c `trang con` trÃªn website thÃ¬ `server` sáº½ xá»­ lÃ½ vÃ  `tráº£ vá» toÃ n bá»™ trang web vÃ  nÃ³ sáº» bá»‹ load má»›i láº¡i hoÃ n toÃ n` </i>
- <i>Theo hÆ°á»›ng Server Side Rendering</i>
- ## <i>VÃ­ du: Tiki,Shopee,sendo</i>
- <b>`Single Page Application` lÃ  gÃ¬?</b>
- <i>`SPA` lÃ  khi ngÆ°á»i dÃ¹ng truy cáº­p cÃ¡c `trang con` trÃªn website, `website chá»‰ load láº¡i nhá»¯ng pháº§n giao diá»‡n thay Ä‘á»•i, nhá»¯ng pháº§n khÃ´ng thay Ä‘á»•i sáº» khÃ´ng bá»‹ load láº¡i`</i>
- <i>Theo hÆ°á»›ng Client Side Rendering</i>
- <i>VÃ­ dá»¥: facebook,instagram,gmail,....</i>

---

### SSR vÃ  CSR

- <b>`Server Side Rendering` lÃ  gÃ¬?</b>
- <i>HTML Ä‘uá»£c `render` sáºµn tá»« `server` gá»­i vá» cho `client`</i>
- ## <i>TrÃ¬nh duyá»‡t nháº­n Ä‘Æ°á»£c trang Ä‘áº§y Ä‘á»§ `Ä‘Ã£ render sáºµn`, nhanh cho SEO vÃ  giáº£m thá»i gian táº£i ban Ä‘áº§u </i>
- <b>`Client Side Rendering` lÃ  gÃ¬?</b>
- <i>`Server` chá»‰ gá»­i `HTML trá»‘ng + Javascript`</i>
- <i>`TrÃ¬nh duyá»‡t` sáº» dÃ¹ng `Javascript` Ä‘á»ƒ `render` ná»™i dung sau khi táº£i xong</i>
- <i>Tráº£i nghiá»‡m mÆ°á»£t sau láº§n táº£i Ä‘áº§u nhÆ°ng SEO kÃ©m hÆ¡n, vÃ¬ bot khÃ´ng tháº¥y ná»™i dung sáºµn.</i>

---

### Template Engines

- <b>KhÃ¡i niá»‡m</b>
- <i>`Template Engines` lÃ  `cÃ´ng cá»¥ giÃºp tÃ¡ch mÃ£ HTML thÃ nh cÃ¡c pháº§n nhá» hÆ¡n`</i>
- <i>ÄÃª tÃ¡i sá»­ dá»¥ng láº¡i trÃªn nhiá»u file HTML</i>
- <b>Má»™t sá»‘ Template Engines phÃ´ biáº¿n:</b>
- <i>`PUG`</i>
- <i>`EJS`</i>
- <i>`Handlebars`</i>
- <b>Sá»­ dá»¥ng `PUG`</b>
- <i>CÃ i Ä‘áº·t: `npm install pug`</i>
- <i>TÃ i liá»‡u: `[npm install pug](https://pugjs.org/api/getting-started.html)`</i> <br>
  ` // sá»­ dá»¥ng pug lÃ m view engine`
  ` app.set("views", "./views");`<br>
  ` // import pug`
  ` app.set("view engine", "pug");`

---

### BiÃªn dá»‹ch HMTL Trong PUG:

- <i>`Tags (tháº»): `![tags](./Docs/Images/tags.png)</i><br><br>
- <i>`Attributes: `![Attributes](./Docs/Images/attributes.png)</i><br><br>
- <i>`Comments: `![Comments](./Docs/Images/comment.png)</i><br><br>
- <i>`Variables: `![Variables](./Docs/Images/variables.png)</i><br><br>
- <i>`Variables: `![Variables](./Docs/Images/variable-02.png)</i><br><br>
- <i>`Conditionals: `![Conditionals](./Docs/Images/conditionals.png)</i><br><br>
- <i>`Case: `![Case](./Docs/Images/case.png)</i><br><br>
- <i>`Iteration: `![Iteration](./Docs/Images/iteration.png)</i><br><br>

---

### Template Inheritance (kÃª thá»«a máº«u)

- <i>DÃ¹ng Ä‘á»ƒ táº¡o ra má»™t bá»™ khung dÃ¹ng chung cho nhiá»u trang</i>
- <i>Cho phÃ©p káº¿ thá»«a layout tá»« file khÃ¡c,</i>
- <i>override cÃ¡c block ná»™i dung.</i>
- <i>`BÆ°á»›c 01` ![BÆ°á»›c 01](./Docs/Images/inheritance-01.png)</i><br>
- <i>`BÆ°á»›c 02` ![BÆ°á»›c 02](./Docs/Images/inheritance-02.png)</i>

---

### Includes

- <i>DÃ¹ng Ä‘á»ƒ nhÃºng ná»™i dung cá»§a 1 file PUG vÃ o 1 file PUG khÃ¡c</i>
- <i>KhÃ´ng há»— trá»£ block, khÃ´ng override.</i>
- <i>ThÃ­ch há»£p cho cÃ¡c pháº§n tá»­ tÄ©nh, láº·p láº¡i nhÆ°: header, footer, sidebar...</i>
- <i>`BÆ°á»›c 01` ![BÆ°á»›c 01](./Docs/Images/include-01.png)</i><br>
- <i>`BÆ°á»›c 02` ![BÆ°á»›c 02](./Docs/Images/include-02.png)</i>

---

### Mixins

- <i>DÃ¹ng Ä‘á»ƒ táº¡o ra cÃ¡c khá»‘i cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng</i>
- <i><b>Báº£n cháº¥t</b>LÃ  viá»‡c tá»± Ä‘á»‹nh nghÄ©a hÃ m vÃ  truyá»n tham sá»‘ vÃ o - thÃ´ng qua gá»i hÃ m Ä‘á»ƒ tÃ¡i sá»­ dá»¥ng</i>
- <i>`BÆ°á»›c 01` ![BÆ°á»›c 01](./Docs/Images/mixin-01.png)</i><br>
- <i>`BÆ°á»›c 02` ![BÆ°á»›c 02](./Docs/Images/mixin-02.png)</i>

---

![alt text](image.png)

### Giá»›i thiá»‡u dá»± Ã¡n thá»±c táº¿

- <b>`Trang phÃ­a ngÆ°á»i dÃ¹ng (client)`</b>
- <b>`Trang phÃ­a quáº£n trá»‹ viÃªn (admin)`</b>

---

### HTTP Request methods (Hypertext Transfer Protocol): Giao thá»©c truyá»n siÃªu vÄƒn báº£n

![HTTP](./Docs/Images/http.webp)

#### GET

- `GET` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ láº¥y thÃ´ng tin tá»« `server` cung cáº¥p
- `GET` chá»‰ nháº­n dá»¯ liá»‡u vÃ  khÃ´ng cÃ³ áº£nh hÆ°á»Ÿng gÃ¬ tá»›i dá»¯ liá»‡u.
- Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ á»Ÿ URL dÆ°á»›i dáº¡ng tham sá»‘.

#### POST

- `POST` Má»™t yÃªu cáº§u POST sá»­ dá»¥ng cÃ¡c máº«u HTML Ä‘á»ƒ gá»­i dá»¯ liá»‡u tá»›i mÃ¡y chá»§
- CÃ³ thá»ƒ táº¡o má»›i hoáº·c thay Ä‘á»•i dá»¯ liá»‡u trÃªn server.

#### HEAD

- `HEAD` TÆ°Æ¡ng tá»± nhÆ° GET, nhÆ°ng nÃ³ truyá»n táº£i dÃ²ng tráº¡ng thÃ¡i vÃ  khu vá»±c header.
- Giá»‘ng GET nhÆ°ng chá»‰ láº¥y pháº§n header, khÃ´ng cÃ³ ná»™i dung body.
- DÃ¹ng Ä‘á»ƒ: Kiá»ƒm tra tÃ i nguyÃªn cÃ³ tá»“n táº¡i hay khÃ´ng

#### PUT

- `PUT` Thay Ä‘á»•i táº¥t cáº£ cÃ¡c Ä‘áº¡i diá»‡n hiá»‡n táº¡i cá»§a nguá»“n má»¥c tiÃªu vá»›i ná»™i dung Ä‘Æ°á»£c táº£i lÃªn.
- Gá»­i dá»¯ liá»‡u lÃªn server Ä‘á»ƒ thay tháº¿ toÃ n bá»™ ná»™i dung tÃ i nguyÃªn táº¡i URI Ä‘Ã³.

#### DELETE

- `DELETE` Gá»¡ bá» táº¥t cáº£ cÃ¡c Ä‘áº¡i diá»‡n hiá»‡n táº¡i cá»§a nguá»“n má»¥c tiÃªu bá»Ÿi URI.
- XÃ³a tÃ i nguyÃªn táº¡i URI chá»‰ Ä‘á»‹nh.

#### CONNECT

- `CONNECT` Thiáº¿t láº­p má»™t tunnel tá»›i mÃ¡y chá»§ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi URI Ä‘Ã£ cung cáº¥p.
- DÃ¹ng Ä‘á»ƒ thiáº¿t láº­p má»™t "tunnel" TCP Ä‘áº¿n server â€” thÆ°á»ng dÃ¹ng cho HTTPS qua proxy.

  ```bash
    // Táº¡o má»™t káº¿t ná»‘i báº£o máº­t tá»›i example.com trÃªn cá»•ng 443.
    CONNECT www.example.com:443 HTTP/1.1
  ```

#### OPTIONS

- `OPTIONS` MiÃªu táº£ cÃ¡c chá»©c nÄƒng giao tiáº¿p cho nguá»“n má»¥c tiÃªu.
- YÃªu cáº§u server liá»‡t kÃª nhá»¯ng phÆ°Æ¡ng thá»©c nÃ o Ä‘Æ°á»£c há»— trá»£ táº¡i URI.

  ```bash
  // Server tráº£ vá» nhÆ°: Allow: GET, POST, PUT, DELETE
    OPTIONS /api/user HTTP/1.1
    Host: example.com
  ```

#### TRACE

- `TRACE` TrÃ¬nh bÃ y má»™t vÃ²ng láº·p kiá»ƒm tra thÃ´ng bÃ¡o song song vá»›i path tá»›i nguá»“n má»¥c tiÃªu.
- Gá»­i láº¡i chÃ­nh yÃªu cáº§u Ä‘Ã£ nháº­n Ä‘á»ƒ kiá»ƒm tra Ä‘Æ°á»ng Ä‘i (debug request path).

  ```bash
    // Server pháº£n há»“i láº¡i Ä‘Ãºng yÃªu cáº§u nÃ y, giÃºp kiá»ƒm tra xem nÃ³ Ä‘Ã£ Ä‘i qua proxy/gateway nÃ o.
    TRACE /test HTTP/1.1
    Host: example.com
  ```

  ![HTTP](./Docs/Images/http-02.webp)

#### Æ¯U ÄIá»‚M:

- Ná»n táº£ng Ä‘á»™c láº­p: Hoáº¡t Ä‘á»™ng trÃªn má»i há»‡ Ä‘iá»u hÃ nh
- Kháº£ nÄƒng tÆ°Æ¡ng thÃ­ch: TÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c giao thá»©c vÃ  cÃ´ng nghá»‡ khÃ¡c nhau
- Hiá»‡u quáº£: Tá»‘i Æ°u hÃ³a cho hiá»‡u suáº¥t
- Báº£o máº­t: Há»— trá»£ mÃ£ hÃ³a Ä‘á»ƒ truyá»n dá»¯ liá»‡u an toÃ n

#### NHÆ¯á»¢C ÄIá»‚M:

- Thiáº¿u báº£o máº­t: Dá»… bá»‹ táº¥n cÃ´ng (middle)
- Váº¥n Ä‘á» vá» hiá»‡u suáº¥t: CÃ³ thá»ƒ cháº­m Ä‘á»‘i vá»›i viá»‡c truyá»n dá»¯ liá»‡u lá»›n
- KhÃ´ng quá»‘c tá»‹ch: YÃªu cáº§u cÃ¡c cÆ¡ cháº¿ bá»• sung Ä‘á»ƒ duy trÃ¬ tráº¡ng thÃ¡i

---

### HTTP Status Code

#### 1xx: ThÃ´ng tin

- `NÃ³ nghÄ©a lÃ  yÃªu cáº§u Ä‘Ã£ Ä‘Æ°á»£c nháº­n vÃ  tiáº¿n trÃ¬nh Ä‘ang tiáº¿p tá»¥c.`
  - `100 (Continue)`: MÃ¡y chá»§ tráº£ vá» mÃ£ nÃ y Ä‘á»ƒ chá»‰ ra ráº±ng nÃ³ Ä‘Ã£ nháº­n Ä‘Æ°á»£c má»™t pháº§n Ä‘áº§u tiÃªn cá»§a má»™t yÃªu cáº§u vÃ  Ä‘Æ°á»£c chá» Ä‘á»£i cho pháº§n cÃ²n láº¡i.
  - `101 (Switching protocols)`: BÃªn yÃªu cáº§u Ä‘Ã£ yÃªu cáº§u cÃ¡c mÃ¡y chá»§ Ä‘á»ƒ chuyá»ƒn Ä‘á»•i vÃ  mÃ¡y chá»§ Ä‘Æ°á»£c thá»«a nháº­n ráº±ng nÃ³ sáº½ lÃ m nhÆ° váº­y

#### 2xx: ThÃ nh cÃ´ng

- `NÃ³ nghÄ©a lÃ  hoáº¡t Ä‘á»™ng Ä‘Ã£ Ä‘Æ°á»£c nháº­n, Ä‘Æ°á»£c hiá»ƒu, vÃ  Ä‘Æ°á»£c cháº¥p nháº­n má»™t cÃ¡ch thÃ nh cÃ´ng.`
  - `200 (Successful)`: CÃ¡c mÃ¡y chá»§ xá»­ lÃ½ yÃªu cáº§u thÃ nh cÃ´ng
  - `201 (Created)`: YÃªu cáº§u Ä‘Ã£ thÃ nh cÃ´ng vÃ  cÃ¡c mÃ¡y chá»§ táº¡o ra má»™t nguá»“n tÃ i nguyÃªn má»›i.
  - `202 (Accepted)`: MÃ¡y chá»§ Ä‘Ã£ cháº¥p nháº­n yÃªu cáº§u, nhÆ°ng váº«n chÆ°a xá»­ lÃ½ nÃ³
  - `203 (Non-authoritative information)`: MÃ¡y chá»§ xá»­ lÃ½ yÃªu cáº§u thÃ nh cÃ´ng, nhÆ°ng Ä‘ang quay trá»Ÿ láº¡i cÃ¡c thÃ´ng tin mÃ  cÃ³ thá»ƒ lÃ  tá»« má»™t nguá»“n khÃ¡c
  - `204 (No content)`: CÃ¡c mÃ¡y chá»§ xá»­ lÃ½ yÃªu cáº§u thÃ nh cÃ´ng, nhÆ°ng khÃ´ng tráº£ láº¡i báº¥t ká»³ ná»™i dung nÃ o
  - `205 (Reset content)`: CÃ¡c mÃ¡y chá»§ proccessed yÃªu cáº§u thÃ nh cÃ´ng, nhÆ°ng khÃ´ng tráº£ láº¡i báº¥t ká»³ ná»™i dung. KhÃ´ng giá»‘ng nhÆ° má»™t pháº£n á»©ng 204, pháº£n á»©ng nÃ y Ä‘Ã²i há»i ngÆ°á»i yÃªu cáº§u thiáº¿t láº­p láº¡i xem tÃ i liá»‡u
  - `206 (Partial content)`: CÃ¡c mÃ¡y chá»§ xá»­ lÃ½ thÃ nh cÃ´ng má»™t pháº§n cá»§a má»™t yÃªu cáº§u

#### 3xx: Sá»± Ä‘iá»u hÆ°á»›ng láº¡i

- `NÃ³ nghÄ©a lÃ  hoáº¡t Ä‘á»™ng pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n Ä‘á»ƒ hoÃ n thÃ nh yÃªu cáº§u`
  - `301 (Moved permanently)`: CÃ¡c trang web yÃªu cáº§u Ä‘Ã£ bá»‹ di chuyá»ƒn vÄ©nh viá»…n tá»›i URL má»›i
  - `302 (Moved temporarily)`: Trang Ä‘Æ°á»£c yÃªu cáº§u Ä‘Ã£ di chuyá»ƒn táº¡m thá»i tá»›i má»™t URL má»›i
  - `304 (Not modified)`: CÃ¡c trang yÃªu cáº§u Ä‘Ã£ khÃ´ng Ä‘Æ°á»£c sá»­a Ä‘á»•i ká»ƒ tá»« khi yÃªu cáº§u cuá»‘i cÃ¹ng. Khi mÃ¡y chá»§ tráº£ vá» pháº£n há»“i nÃ y, nÃ³ khÃ´ng tráº£ láº¡i cÃ¡c ná»™i dung cá»§a trang.

#### 4xx: Lá»—i Client

- `CÃ¡c trang yÃªu cáº§u Ä‘Ã£ khÃ´ng Ä‘Æ°á»£c sá»­a Ä‘á»•i ká»ƒ tá»« khi yÃªu cáº§u cuá»‘i cÃ¹ng. Khi mÃ¡y chá»§ tráº£ vá» pháº£n há»“i nÃ y, nÃ³ khÃ´ng tráº£ láº¡i cÃ¡c ná»™i dung cá»§a trang.`

  - `400 (Bad request)`: CÃ¡c mÃ¡y chá»§ khÃ´ng hiá»ƒu Ä‘Æ°á»£c yÃªu cáº§u.
  - `401 (Not authorized)`: Äá» nghá»‹ yÃªu cáº§u xÃ¡c thá»±c. MÃ¡y chá»§ cÃ³ thá»ƒ tráº£ vá» pháº£n há»“i nÃ y yÃªu cáº§u xÃ¡c thá»±c Ä‘Äƒng nháº­p tÃ i khoáº£n vÃ  máº­t kháº©u (thÃ´ng thÆ°á»ng mÃ¡y chá»§ tráº£ vá» pháº£n há»“i nÃ y náº¿u client gá»­i request má»™t trang Ä‘Äƒng nháº­p)
  - `403 (Forbidden)`: Ã¡y chá»§ tá»« chá»‘i yÃªu cáº§u.(thÃ´ng thÆ°á»ng náº¿u Ä‘Äƒng nháº­p khÃ´ng thÃ nh cÃ´ng mÃ¡y chá»§ sáº½ tráº£ vá» mÃ£ lá»—i nÃ y)
  - `404 (Not found)`: MÃ¡y chá»§ khÃ´ng thá»ƒ tÃ¬m tháº¥y trang yÃªu cáº§u. VÃ­ dá»¥, mÃ¡y chá»§ thÆ°á»ng tráº£ vá» mÃ£ nÃ y náº¿u cÃ³ 1 yÃªu cáº§u tá»›i má»™t trang khÃ´ng tá»“n táº¡i trÃªn mÃ¡y chá»§.
  - `405 (Method not allowed)`: PhÆ°Æ¡ng thá»©c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong yÃªu cáº§u lÃ  khÃ´ng Ä‘Æ°á»£c cho phÃ©p
  - `406 (Not acceptable)`: MÃ¡y chá»§ chá»‰ cÃ³ thá»ƒ táº¡o má»™t pháº£n há»“i mÃ  khÃ´ng Ä‘Æ°á»£c cháº¥p nháº­n bá»Ÿi Client.
  - `407 (Proxy authentication required)`: YÃªu cáº§u client pháº£i xÃ¡c thá»±c sá»­ dá»¥ng má»™t proxy. Khi mÃ¡y chá»§ tráº£ vá» pháº£n há»“i nÃ y, nÃ³ cÅ©ng chá»‰ ra proxy mÃ  ngÆ°á»i yÃªu cáº§u pháº£i sá»­ dá»¥ng.
  - `408 (Request timeout)`: Request tá»‘n thá»i gian dÃ i hÆ¡n thá»i gian mÃ¡y chá»§ pháº£n há»“i
  - `409 (Conflict)`: CÃ¡c mÃ¡y chá»§ gáº·p pháº£i má»™t cuá»™c xung Ä‘á»™t thá»±c hiá»‡n yÃªu cáº§u. CÃ¡c mÃ¡y chá»§ pháº£i bao gá»“m thÃ´ng tin vá» cÃ¡c cuá»™c xung Ä‘á»™t trong cÃ¡c pháº£n á»©ng. MÃ¡y chá»§ cÃ³ thá»ƒ tráº£ vá» mÃ£ nÃ y Ä‘á»ƒ Ä‘Ã¡p á»©ng vá»›i yÃªu cáº§u PUT xung Ä‘á»™t vá»›i yÃªu cáº§u trÆ°á»›c Ä‘Ã³, cÃ¹ng vá»›i má»™t danh sÃ¡ch cÃ¡c sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c yÃªu cáº§u.
  - `410 (Gone)`: CÃ¡c mÃ¡y chá»§ tráº£ vá» pháº£n há»“i nÃ y khi cÃ¡c nguá»“n tÃ i nguyÃªn yÃªu cáº§u Ä‘Ã£ bá»‹ loáº¡i bá» vÄ©nh viá»…n. NÃ³ tÆ°Æ¡ng tá»± nhÆ° má»™t 404 (KhÃ´ng tÃ¬m tháº¥y) mÃ£, nhÆ°ng Ä‘Ã´i khi Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ vá»‹ trÃ­ cá»§a má»™t 404 cho nguá»“n lá»±c Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tá»“n táº¡i nhÆ°ng khÃ´ng cÃ²n lÃ m. Náº¿u tÃ i nguyÃªn Ä‘Ã£ di chuyá»ƒn vÄ©nh viá»…n, báº¡n nÃªn sá»­ dá»¥ng má»™t 301 Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ má»›i cá»§a tÃ i nguyÃªn.
  - `411 (Length required)`: Content-Length khÃ´ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh rÃµ. MÃ¡y chá»§ sáº½ khÃ´ng cháº¥p nháº­n yÃªu cáº§u mÃ  khÃ´ng cÃ³ nÃ³
  - `412 (Precondition failed)`: CÃ¡c mÃ¡y chá»§ khÃ´ng Ä‘Ã¡p á»©ng má»™t trong cÃ¡c Ä‘iá»u kiá»‡n tiÃªn quyáº¿t mÃ  ngÆ°á»i yÃªu cáº§u Ä‘Æ°a vÃ o yÃªu cáº§u.
  - `413 (Request entity too large)`: MÃ¡y chá»§ khÃ´ng thá»ƒ xá»­ lÃ½ yÃªu cáº§u bá»Ÿi vÃ¬ nÃ³ lÃ  quÃ¡ lá»›n Ä‘á»‘i vá»›i cÃ¡c mÃ¡y chá»§ Ä‘á»ƒ xá»­ lÃ½.

  - `414 (Requested URI is too long)`: URI yÃªu cáº§u (thÆ°á»ng lÃ  má»™t URL) lÃ  quÃ¡ dÃ i Ä‘á»‘i vá»›i mÃ¡y chá»§ Ä‘á»ƒ xá»­ lÃ½.
  - `416 (Requested range not satisfiable)`: MÃ¡y chá»§ tráº£ vá» mÃ£ tráº¡ng thÃ¡i nÃ y náº¿u yÃªu cáº§u cho má»™t pháº¡m vi khÃ´ng cÃ³ sáºµn cho trang.
  - `417 (Expectation failed)`: MÃ¡y chá»§ khÃ´ng thá»ƒ Ä‘Ã¡p á»©ng yÃªu cáº§u cá»§a cÃ¡c trÆ°á»ng yÃªu cáº§u, tiÃªu Ä‘á» mong Ä‘á»£i.

#### 5xx: Lá»—i Server

- `NÃ³ nghÄ©a lÃ  mÃ¡y chá»§ tháº¥t báº¡i vá»›i viá»‡c thá»±c hiá»‡n má»™t yÃªu cáº§u nhÃ¬n nhÆ° cÃ³ váº» kháº£ thi.`
  - `500 (Internal server error)`: CÃ¡c mÃ¡y chá»§ gáº·p lá»—i vÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n yÃªu cáº§u.
  - `501 (Not implemented)`: CÃ¡c mÃ¡y chá»§ khÃ´ng cÃ³ cÃ¡c chá»©c nÄƒng Ä‘á»ƒ thá»±c hiá»‡n yÃªu cáº§u. VÃ­ dá»¥, mÃ¡y chá»§ cÃ³ thá»ƒ tráº£ vá» mÃ£ nÃ y khi nÃ³ khÃ´ng nháº­n ra phÆ°Æ¡ng thá»©c yÃªu cáº§u.
  - `502 (Bad gateway)`: CÃ¡c mÃ¡y chá»§ Ä‘Ã£ hoáº¡t Ä‘á»™ng nhÆ° má»™t gateway hoáº·c proxy vÃ  nháº­n Ä‘Æ°á»£c má»™t pháº£n á»©ng khÃ´ng há»£p lá»‡ tá»« mÃ¡y chá»§ ngÆ°á»£c.
  - `503 (Service unavailable)`: MÃ¡y chá»§ hiá»‡n khÃ´ng cÃ³ sáºµn (vÃ¬ nÃ³ bá»‹ quÃ¡ táº£i hoáº·c xuá»‘ng Ä‘á»ƒ báº£o trÃ¬). NÃ³i chung, Ä‘Ã¢y lÃ  má»™t tráº¡ng thÃ¡i táº¡m thá»i.
  - `504 (Gateway timeout)`: CÃ¡c mÃ¡y chá»§ Ä‘Ã£ hoáº¡t Ä‘á»™ng nhÆ° má»™t gateway hoáº·c proxy vÃ  Ä‘Ã£ khÃ´ng nháº­n Ä‘Æ°á»£c yÃªu cáº§u ká»‹p thá»i tá»« mÃ¡y chá»§ ngÆ°á»£c.
  - `505 (HTTP version not supported)`: CÃ¡c mÃ¡y chá»§ khÃ´ng há»— trá»£ phiÃªn báº£n giao thá»©c HTTP Ä‘Æ°á»£c sá»­ dá»¥ng trong yÃªu cáº§u.

---

### TÃ¬m hiá»ƒu kiáº¿n thá»©c cÆ¡ báº£n MongoDB

![MongoDB](./Docs/Images/mongo.webp)

- <i>`MongoDB` lÃ  `cÆ¡ sá»Ÿ dá»¯ liá»‡u` Ä‘Æ°á»£c thiáº¿t kÃª theo hÆ°á»›ng `Ä‘á»‘i tÆ°á»£ng`</i>
- <i>`MongoDB` lÃ  má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u `NoSQL`</i>
- <i>MÃ´ hÃ¬nh: `Database - Collection - Document`</i>
- <i>Download: `https://www.mongodb.com/try/download/community`</i>
- <b>LÆ°u Ã½: Trong lÃºc cÃ i mongoDB `cÃ i thÃªm MongoDB Compass` -> pháº§n má»m Ä‘á»ƒ quáº£n lÃ½ `database` cÃ³ giao diá»‡n trá»±c quan</b><br><br>
  ![Táº¡o database tá»« MongoDB](./Docs/Images/mongoDB.png)

---

### Kiáº¿n thá»©c vá» MongoDB

#### NoSql(cÆ¡ sá»Ÿ dá»¯ liá»‡u phi quan há»‡ ) lÃ  gÃ¬?

- <i>`NoSQL` lÃ  1 dáº¡ng `CSDL` mÃ£ nguá»“n má»Ÿ: `Non-Relational SQL hay cÃ²n gá»i Not-Only SQL`</i>
- <i>`NoSQL` Ä‘Æ°á»£c phÃ¡t triÃªn dá»±a trÃªn `Javascript Framework` vá»›i kiá»ƒu dá»¯ liá»‡u lÃ  `JSON (Key-Value)`</i>
- <i>`NoSQL` ra Ä‘á»i nháº±m kháº¯c phá»¥c khuyáº¿t Ä‘iá»ƒm vÃ  thiáº¿u xÃ³t cá»§a `mÃ´ hÃ¬nh dá»¯ liá»‡u quan há»‡ RDBMS (Relational Database Management System- HÃª Quáº£n Tri CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u)` vÃª tá»‘c Ä‘á»™ ,tÃ­nh nÄƒng vÃ  kháº£ nÄƒng má»Ÿ rá»™ng,...</i>
- <i>`NoSQL` bá» qua tÃ­nh toÃ n váº¹n cá»§a dá»¯ liá»‡u vÃ  transaction Ä‘á»ƒ Ä‘á»•i láº¥y hiá»‡u suáº¥t nhanh vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.</i>
- <i>`NoSQL` báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng dá»¯ liá»‡u mÃ  khÃ´ng lo tá»›i nhá»¯ng viá»‡c nhÆ° táº¡o khÃ³a ngoáº¡i, khÃ³a chÃ­nh, kiá»ƒm tra rÃ ng buá»™c .v.v ...</i><br><br>

---

![Thao tÃ¡c vÆ¡i MongoDB](./Docs/Images/crud-mongo.png)

- <b>`Táº¡o csdl`: use test </b>
- <b>`Táº¡o báº£ng`: db.createCollection('')</b>
- <b>`Táº¡o báº£n ghi`: db.table\_\_name.insert({key:'value'})</b>
- <b>`Cáº­p nháº­t`: db.table\_\_name.updated({key:'value'})</b>
- <b>`XÃ³a báº£n ghi`: db.table\_\_name.remove({\_id})</b>
- <b>`TÃ¬m kiáº¿m all`: db.table\_\_name.find({})</b>
- <b>`TÃ¬m kiáº¿m`: db.table\_\_name.find({name: 'A'})</b>

---

#### MongoDB lÃ  gÃ¬?

- <i>`MongoDB` lÃ  má»™t há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ£ nguá»“n má»Ÿ, lÃ  CSDL thuá»™c NoSql vÃ  Ä‘Æ°á»£c hÃ ng triá»‡u ngÆ°á»i sá»­ dá»¥ng.</i>
- <i>Vá»›i CSDL quan há»‡ chÃºng ta cÃ³ khÃ¡i niá»‡m báº£ng, cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ (nhÆ° MySQL hay SQL Server...) sá»­ dá»¥ng cÃ¡c báº£ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u thÃ¬ vá»›i `MongoDB` chÃºng ta sáº½ `dÃ¹ng khÃ¡i niá»‡m` lÃ  `collection` thay vÃ¬ báº£ng</i>
- <i>So vá»›i RDBMS thÃ¬ trong `MongoDB collection á»©ng vá»›i table`, cÃ²n `document sáº½ á»©ng vá»›i row` , `MongoDB sáº½ dÃ¹ng cÃ¡c document thay cho row` trong RDBMS.</i>

---

#### Æ¯u Ä‘iá»ƒm cá»§a mongoDB

- <i>linh hoáº¡t trong viá»‡c lÆ°u trá»¯ dá»¯ liá»‡u, nÃªn báº¡n muá»‘n gÃ¬ thÃ¬ cá»© insert vÃ o thoáº£i mÃ¡i</i>
- <i>xÃ³a hay update nÃ³ khÃ´ng cáº§n pháº£i máº¥t thá»i gian kiá»ƒm tra xem cÃ³ thá»a mÃ£n cÃ¡c rÃ ng buá»™c dá»¯ liá»‡u nhÆ° trong RDBMS.</i>
- <i>Khi cÃ³ má»™t truy váº¥n dá»¯ liá»‡u, báº£n ghi Ä‘Æ°á»£c cached lÃªn bá»™ nhá»› Ram, Ä‘á»ƒ phá»¥c vá»¥ lÆ°á»£t truy váº¥n sau diá»…n ra nhanh hÆ¡n mÃ  khÃ´ng cáº§n pháº£i Ä‘á»c tá»« á»• cá»©ng.</i>
- <i>Hiá»‡u nÄƒng cao: Tá»‘c Ä‘á»™ truy váº¥n (find, update, insert, delete) cá»§a MongoDB nhanh hÆ¡n háº³n so vá»›i cÃ¡c há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ (RDBMS).</i><br><br>
  ![MongoDB cÃ³ thá»ƒ nhanh tá»›i gáº¥p 100 láº§n so vá»›i MySQL](./Docs/Images/compare.jpg)

---

#### Nhuá»£c Ä‘iá»ƒm cá»§a mongoDB

- <i>MongoDB khÃ´ng cÃ³ cÃ¡c tÃ­nh cháº¥t rÃ ng buá»™c nhÆ° trong RDBMS nÃªn khi thao tÃ¡c vá»›i mongoDB thÃ¬ pháº£i háº¿t sá»©c cáº©n tháº­n.</i>
- <i>Tá»‘n bá»™ nhá»› do dá»¯ liá»‡u lÆ°u dÆ°á»›i dáº¡ng key-value, cÃ¡c collection chá»‰ khÃ¡c vá» value do Ä‘Ã³ key sáº½ bá»‹ láº·p láº¡i. KhÃ´ng há»— trá»£ join nÃªn dá»… bá»‹ dá»¯ thá»«a dá»¯ liá»‡u.</i>
- <i>Khi insert/update/remove báº£n ghi, MongoDB sáº½ chÆ°a cáº­p nháº­t ngay xuá»‘ng á»• cá»©ng, mÃ  sau 60 giÃ¢y MongoDB má»›i thá»±c hiá»‡n ghi toÃ n bá»™ dá»¯ liá»‡u thay Ä‘á»•i tá»« RAM xuá»‘ng á»• cá»©ng Ä‘iÃªÃ¹ nÃ y sáº½ lÃ  nhÆ°á»£c Ä‘iá»ƒm vÃ¬ sáº½ cÃ³ nguy cÆ¡ bá»‹ máº¥t dá»¯ liá»‡u khi xáº£y ra cÃ¡c tÃ¬nh huá»‘ng nhÆ° máº¥t Ä‘iá»‡n...</i>

### TÃ¬m hiá»ƒu kiáº¿n thá»©c cÆ¡ báº£n Mongoose

- <i>`Mongoose` lÃ  má»™t thÆ° viá»‡n `Object Data Modeling (ODM)`</i>
- <i>ThÆ° viá»‡n `mÃ´ hÃ¬nh hÃ³a dÆ° liá»‡u Ä‘á»‘i tÆ°á»£ng cho MongoDB`</i>
- <i>`Mongoose` cho phÃ©p Ä‘á»‹nh nghÄ©a cÃ¡c Object vá»›i má»™t `schema` Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a rÃµ rÃ ng,Ä‘Æ°á»£c Ã¡nh xáº¡ tá»›i má»™t MongoDB document</i>
- <i>Download: `npm i mongoose`</i><br><br>
  ![Mongoose](./Docs/Images/mongoose.png)<br><br>
  ![Mongoose](./Docs/Images/compare02.png)<br><br>

---

#### Thuáº­t ngá»¯ - Terminologies

**Collections**

- <i>`Collections` á»Ÿ Mongo tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cÃ¡c báº£ng trong cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡. ChÃºng cÃ³ thá»ƒ chá»©a nhiá»u tÃ i liá»‡u JSON.</i>

---

**Documents**

- <i>`Documents` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cÃ¡c báº£n ghi trong SQL. Máº·c dÃ¹ má»™t dÃ²ng SQL cÃ³ thá»ƒ tham kháº£o dá»¯ liá»‡u trong cÃ¡c báº£ng khÃ¡c, cÃ¡c tÃ i liá»‡u Mongo thÆ°á»ng káº¿t há»£p trong má»™t tÃ i liá»‡u.</i>

---

**Fields**

- <i>`Fields` thuá»™c tÃ­nh tÆ°Æ¡ng tá»± nhÆ° cÃ¡c cá»™t trong má»™t báº£ng SQL.</i>

---

**Schema**

- <i>Trong khi Mongo lÃ  `schema-less`, SQL Ä‘á»‹nh nghÄ©a má»™t lÆ°á»£c Ä‘á»“ thÃ´ng qua Ä‘á»‹nh nghÄ©a báº£ng. Má»™t lÆ°á»£c Ä‘á»“ Mongoose lÃ  má»™t lá»›p cáº¥u trÃºc dá»¯ liá»‡u Ä‘Æ°á»£c thi hÃ nh qua lá»›p á»©ng dá»¥ng.</i>

---

### Káº¿t ná»‘i NodeJS vá»›i MongoDB

**VÃ­ dá»¥**

- <i>`BÆ°á»›c 1: ` káº¿t ná»‘i tá»›i mongoose, táº¡o cáº¥u trÃºc truy váº¥n - káº¿t ná»‘i tá»›i database </i><br>

  ![ káº¿t ná»‘i tá»›i mongoose, táº¡o cáº¥u trÃºc truy váº¥n - káº¿t ná»‘i tá»›i database](./Docs/Images/ex-00.png)

- <i>`Buá»›c 2: ` láº¥y data tá»« product </i><br>
  ![láº¥y data tá»« product](./Docs/Images/ex-01.png)

- <i>`BÆ°á»›c 3: ` Táº¡o file product.pug</i><br>
  ![Táº¡o file product.pug](./Docs/Images/ex-02.png)<br>
  **LÆ°u Ã½: tÃªn biáº¿n thay Ä‘Ã´i tÃ¹y Ã½ (Ä‘Ãºng cÃº phÃ¡p)**

---

### MÃ´ hÃ¬nh MVC(Model-View-Controller)

- ![MÃ´ hÃ¬nh MVC](./Docs/Images/mvc-04.webp)

- <i>`Model(MÃ´ hÃ¬nh):` DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i vá»›i datbase</i>
- <i>`View(Xem):` Giao diá»‡n ngÆ°á»i dÃ¹ng</i>
- <i>`Controller(Äiá»u khiá»ƒn):` DÃ¹ng Ä‘á»ƒ liÃªn káº¿t Model vá»›i View</i><br><br>
  ![MÃ´ hÃ¬nh MVC](./Docs/Images/mvc-03.png)

- <i>`MÃ´ táº£` CÆ¡ cháº¿ há»at Ä‘á»™ng</i><br><br>
  ![MÃ´ hÃ¬nh MVC-GIF](./Docs/Images/mvc-02.gif)<br>

  ![MÃ´ hÃ¬nh MVC](./Docs/Images/mvc-01.png)
